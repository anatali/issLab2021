package unibo.wenvUsage22.actors;

import it.unibo.kactor.IApplMessage;
import unibo.actor22.Qak22Context;
import unibo.actor22.Qak22Util;
import unibo.actor22.annotations.ActorLocal;
import unibo.actor22comm.ProtocolType;
import unibo.actor22comm.context.EnablerContextForActors;
import unibo.actor22comm.utils.ColorsOut;
import unibo.actor22comm.utils.CommSystemConfig;
import unibo.actor22comm.utils.CommUtils;
 

@ActorLocal(
		name =      { "sceneObserver" }, 
		implement = { SceneObserver.class })
public class SceneObserverMain {
	private EnablerContextForActors ctx;
	
	public void doJob() {
		CommSystemConfig.tracing = true;
		ctx = new EnablerContextForActors( "ctx",8030,ProtocolType.tcp);
		Qak22Context.handleLocalActorDecl(this);
//		CommUtils.delay(2000);
		IApplMessage req = CommUtils.buildRequest("main", "cmd", "start", "sceneObserver");
		String answer    = Qak22Util.requestSynch(req); //blocca
		ColorsOut.outappl("SceneObserverMain answer="+answer, ColorsOut.MAGENTA);
	}
	public static void main( String[] args) {
		CommUtils.aboutThreads("Before start - ");
		new SceneObserverMain().doJob();
		CommUtils.aboutThreads("Before end - ");
	}

}
